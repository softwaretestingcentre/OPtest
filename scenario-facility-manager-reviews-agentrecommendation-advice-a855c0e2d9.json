{"id":"review-octaipipe-advice;facility-manager-reviews-agentrecommendation-advice","name":"Facility Manager reviews AgentRecommendation advice","title":"Facility Manager reviews AgentRecommendation advice","manual":false,"testSteps":[{"number":1,"description":"Given Felicity has opened their portal","startTime":"2025-07-12T09:02:49.284Z","children":[{"number":2,"description":"Felicity logs in","startTime":"2025-07-12T09:02:49.287Z","children":[{"number":3,"description":"Felicity navigates to &quot;/home.html&quot;","startTime":"2025-07-12T09:02:49.287Z","children":[],"reportData":[],"screenshots":[{"screenshot":"photo-linux-chromium-138.0.7204.23-felicity-navigates-to-home.html-5c9469c475.png","screenshotName":"photo-linux-chromium-138.0.7204.23-felicity-navigates-to-home.html-5c9469c475.png","timeStamp":1752310969392}],"duration":32,"result":"COMPROMISED","exception":{"errorType":"TestCompromisedError","message":"Couldn't navigate to /home.html; page.goto: net::ERR_CONNECTION_REFUSED at http://localhost:3000/home.html\nCall log:\n  - navigating to \"http://localhost:3000/home.html\", waiting until \"load\"\n","stackTrace":[{"declaringClass":"","methodName":"","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@serenity-js/web/src/screenplay/interactions/Navigate.ts","lineNumber":181},{"declaringClass":"","methodName":"async PerformActivities.perform()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@serenity-js/core/src/screenplay/abilities/PerformActivities.ts","lineNumber":60},{"declaringClass":"","methodName":"async PerformActivities.perform()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@serenity-js/core/src/screenplay/abilities/PerformActivities.ts","lineNumber":60},{"declaringClass":"","methodName":"async wrapPromiseWithTimeout()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@cucumber/cucumber/src/time.ts","lineNumber":55},{"declaringClass":"","methodName":"async Object.run()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@cucumber/cucumber/src/user_code_runner.ts","lineNumber":86},{"declaringClass":"","methodName":"async Object.run()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@cucumber/cucumber/src/runtime/step_runner.ts","lineNumber":53},{"declaringClass":"","methodName":"async TestCaseRunner.invokeStep()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@cucumber/cucumber/src/runtime/test_case_runner.ts","lineNumber":140},{"declaringClass":"","methodName":"async TestCaseRunner.runStep()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@cucumber/cucumber/src/runtime/test_case_runner.ts","lineNumber":340},{"declaringClass":"","methodName":"","fileName":"async /home/runner/work/OPtest/OPtest/node_modules/@cucumber/cucumber/src/runtime/test_case_runner.ts","lineNumber":246},{"declaringClass":"","methodName":"async TestCaseRunner.aroundTestStep()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@cucumber/cucumber/src/runtime/test_case_runner.ts","lineNumber":173},{"declaringClass":"","methodName":"PlaywrightPage.navigateTo()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@serenity-js/playwright/src/screenplay/models/PlaywrightPage.ts","lineNumber":84},{"declaringClass":"","methodName":"NavigateToUrl.performAs()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@serenity-js/web/src/screenplay/interactions/Navigate.ts","lineNumber":180},{"declaringClass":"","methodName":"async PerformActivities.perform()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@serenity-js/core/src/screenplay/abilities/PerformActivities.ts","lineNumber":60},{"declaringClass":"","methodName":"async PerformActivities.perform()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@serenity-js/core/src/screenplay/abilities/PerformActivities.ts","lineNumber":60},{"declaringClass":"","methodName":"async wrapPromiseWithTimeout()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@cucumber/cucumber/src/time.ts","lineNumber":55},{"declaringClass":"","methodName":"async Object.run()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@cucumber/cucumber/src/user_code_runner.ts","lineNumber":86},{"declaringClass":"","methodName":"async Object.run()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@cucumber/cucumber/src/runtime/step_runner.ts","lineNumber":53},{"declaringClass":"","methodName":"async TestCaseRunner.invokeStep()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@cucumber/cucumber/src/runtime/test_case_runner.ts","lineNumber":140},{"declaringClass":"","methodName":"async TestCaseRunner.runStep()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@cucumber/cucumber/src/runtime/test_case_runner.ts","lineNumber":340},{"declaringClass":"","methodName":"","fileName":"async /home/runner/work/OPtest/OPtest/node_modules/@cucumber/cucumber/src/runtime/test_case_runner.ts","lineNumber":246},{"declaringClass":"","methodName":"async TestCaseRunner.aroundTestStep()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@cucumber/cucumber/src/runtime/test_case_runner.ts","lineNumber":173},{"declaringClass":"","methodName":"async TestCaseRunner.runAttempt()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@cucumber/cucumber/src/runtime/test_case_runner.ts","lineNumber":224},{"declaringClass":"","methodName":"async TestCaseRunner.run()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@cucumber/cucumber/src/runtime/test_case_runner.ts","lineNumber":191},{"declaringClass":"","methodName":"async Worker.runTestCase()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@cucumber/cucumber/src/runtime/worker.ts","lineNumber":60},{"declaringClass":"","methodName":"async InProcessAdapter.run()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@cucumber/cucumber/src/runtime/serial/adapter.ts","lineNumber":33},{"declaringClass":"","methodName":"async Coordinator.run()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@cucumber/cucumber/src/runtime/coordinator.ts","lineNumber":36},{"declaringClass":"","methodName":"async runCucumber()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@cucumber/cucumber/src/api/run_cucumber.ts","lineNumber":157},{"declaringClass":"","methodName":"async Cli.run()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@cucumber/cucumber/src/cli/index.ts","lineNumber":79},{"declaringClass":"","methodName":"async Object.run()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@cucumber/cucumber/src/cli/run.ts","lineNumber":32}],"rootCause":{"errorType":"Error","message":"page.goto: net::ERR_CONNECTION_REFUSED at http://localhost:3000/home.html\nCall log:\n  - navigating to \"http://localhost:3000/home.html\", waiting until \"load\"\n","stackTrace":[{"declaringClass":"","methodName":"PlaywrightPage.navigateTo()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@serenity-js/playwright/src/screenplay/models/PlaywrightPage.ts","lineNumber":84},{"declaringClass":"","methodName":"NavigateToUrl.performAs()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@serenity-js/web/src/screenplay/interactions/Navigate.ts","lineNumber":180},{"declaringClass":"","methodName":"async PerformActivities.perform()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@serenity-js/core/src/screenplay/abilities/PerformActivities.ts","lineNumber":60},{"declaringClass":"","methodName":"async PerformActivities.perform()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@serenity-js/core/src/screenplay/abilities/PerformActivities.ts","lineNumber":60},{"declaringClass":"","methodName":"async wrapPromiseWithTimeout()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@cucumber/cucumber/src/time.ts","lineNumber":55},{"declaringClass":"","methodName":"async Object.run()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@cucumber/cucumber/src/user_code_runner.ts","lineNumber":86},{"declaringClass":"","methodName":"async Object.run()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@cucumber/cucumber/src/runtime/step_runner.ts","lineNumber":53},{"declaringClass":"","methodName":"async TestCaseRunner.invokeStep()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@cucumber/cucumber/src/runtime/test_case_runner.ts","lineNumber":140},{"declaringClass":"","methodName":"async TestCaseRunner.runStep()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@cucumber/cucumber/src/runtime/test_case_runner.ts","lineNumber":340},{"declaringClass":"","methodName":"","fileName":"async /home/runner/work/OPtest/OPtest/node_modules/@cucumber/cucumber/src/runtime/test_case_runner.ts","lineNumber":246},{"declaringClass":"","methodName":"async TestCaseRunner.aroundTestStep()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@cucumber/cucumber/src/runtime/test_case_runner.ts","lineNumber":173},{"declaringClass":"","methodName":"async TestCaseRunner.runAttempt()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@cucumber/cucumber/src/runtime/test_case_runner.ts","lineNumber":224},{"declaringClass":"","methodName":"async TestCaseRunner.run()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@cucumber/cucumber/src/runtime/test_case_runner.ts","lineNumber":191},{"declaringClass":"","methodName":"async Worker.runTestCase()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@cucumber/cucumber/src/runtime/worker.ts","lineNumber":60},{"declaringClass":"","methodName":"async InProcessAdapter.run()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@cucumber/cucumber/src/runtime/serial/adapter.ts","lineNumber":33},{"declaringClass":"","methodName":"async Coordinator.run()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@cucumber/cucumber/src/runtime/coordinator.ts","lineNumber":36},{"declaringClass":"","methodName":"async runCucumber()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@cucumber/cucumber/src/api/run_cucumber.ts","lineNumber":157},{"declaringClass":"","methodName":"async Cli.run()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@cucumber/cucumber/src/cli/index.ts","lineNumber":79},{"declaringClass":"","methodName":"async Object.run()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@cucumber/cucumber/src/cli/run.ts","lineNumber":32}]}}}],"reportData":[],"screenshots":[],"duration":114,"result":"COMPROMISED"}],"reportData":[],"screenshots":[],"duration":128,"result":"COMPROMISED"},{"number":4,"description":"When Felicity views the &quot;AgentRecommendation&quot; Explainer","startTime":"2025-07-12T09:02:49.412Z","children":[],"reportData":[],"screenshots":[],"duration":0,"result":"SKIPPED"},{"number":5,"description":"Then Felicity sees that the advice includes:\n| Clause     | Expectation                                                           |\n| Metric     | supply air temperature                                                |\n| Change     | from 22°C to 23°C                                                     |\n| Impact     | each 0.5°C rise in supply air setpoint can cut chiller energy by 2-3% |\n| Constraint | moderate IT load                                                      |\n| Margin     | approximately 2°C of safe margin                                      |\n| Standard   | ISO50001                                                              |\n| Objective  | avoiding unnecessarily low supply temperatures                        |","startTime":"2025-07-12T09:02:49.414Z","children":[],"reportData":[],"screenshots":[],"duration":1,"result":"SKIPPED"}],"userStory":{"id":"review-octaipipe-advice","storyName":"Review Octaipipe advice","displayName":"Review Octaipipe advice","path":"facilityManagement/review-advice","type":"feature","narrative":"Octaipipe provides advice to Facility Managers to help them with site Management\nThe advice should read as natural language, summarizing the site evaluation\nThe advice includes some elements of:\n- Site status\n- Short term predictions\n- Recommended actions\n- Incentives\nThe FM can accept the advice or view more detailed analysis","pathElements":[{"name":"facilityManagement","description":"FacilityManagement"},{"name":"review-advice","description":"Review-advice"}]},"startTime":"2025-07-12T09:02:49.284Z","testSource":"JS","tags":[{"name":"Facility management","type":"capability","displayName":"Facility management"},{"name":"Facility management/Review Octaipipe advice","type":"feature","displayName":"Review Octaipipe advice"}],"featureTag":{"name":"Facility management/Review Octaipipe advice","type":"feature","displayName":"Review Octaipipe advice"},"actors":[{"name":"Felicity","can":["PerformActivities","AnswerQuestions","RaiseErrors","ScheduleWork { scheduler: { clock: { timeAdjustment: { milliseconds: 0 } }, interactionTimeout: { milliseconds: 5000 } } }","BrowseTheWeb (BrowseTheWebWithPlaywright)","CallAnApi { baseURL: \"http://localhost:3000/\", headers: { common: { Accept: \"application/json, text/plain, */*\" } }, timeout: 10000 }","TakeNotes { notepad: {} }"]}],"result":"COMPROMISED","testFailureCause":{"errorType":"TestCompromisedError","message":"Couldn't navigate to /home.html; page.goto: net::ERR_CONNECTION_REFUSED at http://localhost:3000/home.html\nCall log:\n  - navigating to \"http://localhost:3000/home.html\", waiting until \"load\"","stackTrace":[{"declaringClass":"","methodName":"","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@serenity-js/web/src/screenplay/interactions/Navigate.ts","lineNumber":181},{"declaringClass":"","methodName":"async PerformActivities.perform()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@serenity-js/core/src/screenplay/abilities/PerformActivities.ts","lineNumber":60},{"declaringClass":"","methodName":"async PerformActivities.perform()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@serenity-js/core/src/screenplay/abilities/PerformActivities.ts","lineNumber":60}]},"testFailureClassname":"TestCompromisedError","testFailureMessage":"Couldn't navigate to /home.html; page.goto: net::ERR_CONNECTION_REFUSED at http://localhost:3000/home.html\nCall log:\n  - navigating to \"http://localhost:3000/home.html\", waiting until \"load\"","testFailureSummary":"COMPROMISED;TestCompromisedError;Couldn't navigate to /home.html; page.goto: net::ERR_CONNECTION_REFUSED at http://localhost:3000/home.html\nCall log:\n  - navigating to \"http://localhost:3000/home.html\", waiting until \"load\";/home/runner/work/OPtest/OPtest/node_modules/@serenity-js/core/src/screenplay/abilities/PerformActivities.ts","duration":153}