{"id":"critique-advice;explainer-recommendations-are-consistent-after-the-base-model-is-updated","name":"Explainer recommendations are consistent after the base model is updated","title":"Explainer recommendations are consistent after the base model is updated","manual":false,"testSteps":[{"number":1,"description":"Explainer recommendations are consistent after the base model is updated #1 - Zone: 1, Set Point: SAT, Recommended Value: 0.85","startTime":"2025-07-26T13:18:58.897Z","children":[{"number":2,"description":"Given Des updates the base model\n| Old | New |\n| 1.3 | 1.4 |","startTime":"2025-07-26T13:18:58.901Z","children":[{"number":3,"description":"Des updates the base model","startTime":"2025-07-26T13:18:58.905Z","children":[{"number":4,"description":"Des logs: &apos;updating base model&apos;","startTime":"2025-07-26T13:18:58.906Z","children":[],"reportData":[{"id":"report-data-e106a8d0c5816911cc8d1db11c420a37be2dcce6","isEvidence":false,"path":"","title":"'updating base model'","contents":"'updating base model'"}],"screenshots":[{"screenshot":"photo-linux-chromium-138.0.7204.23-des-logs-updating-base-model-5c9469c475.png","screenshotName":"photo-linux-chromium-138.0.7204.23-des-logs-updating-base-model-5c9469c475.png","timeStamp":1753535939194}],"duration":1,"result":"SUCCESS"}],"reportData":[],"screenshots":[],"duration":528,"result":"SUCCESS"},{"number":13,"description":"Como ensures that data in table for OL in column Licence Status does equal &quot;expired&quot;","startTime":"2025-07-26T13:18:59.433Z","children":[{"number":14,"description":"Como ensures that data in table for DC in column Licence Status does equal &quot;valid&quot;","startTime":"2025-07-26T13:18:59.436Z","children":[],"reportData":[],"screenshots":[],"duration":23,"result":"FAILURE","exception":{"errorType":"AssertionError","message":"Expected data in table for DC in column Licence Status to equal \"valid\"\n\nExpectation: equals('valid')\n\nExpected string:    valid\nReceived undefined\n\n    at /home/runner/work/OPtest/OPtest/features/step-definitions/deployment.steps.ts:10:12","stackTrace":[{"declaringClass":"","methodName":"","fileName":"/home/runner/work/OPtest/OPtest/features/step-definitions/deployment.steps.ts","lineNumber":10},{"declaringClass":"","methodName":"ErrorFactory.create()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@serenity-js/core/src/errors/ErrorFactory.ts","lineNumber":35},{"declaringClass":"","methodName":"Stage.createError()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@serenity-js/core/src/stage/Stage.ts","lineNumber":328},{"declaringClass":"","methodName":"RaiseErrors.create()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@serenity-js/core/src/errors/RaiseErrors.ts","lineNumber":59},{"declaringClass":"","methodName":"Ensure.performAs()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@serenity-js/assertions/src/Ensure.ts","lineNumber":137},{"declaringClass":"","methodName":"async PerformActivities.perform()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@serenity-js/core/src/screenplay/abilities/PerformActivities.ts","lineNumber":60}]}}],"reportData":[],"screenshots":[],"duration":26,"result":"FAILURE"}],"reportData":[],"screenshots":[],"duration":462,"result":"FAILURE"},{"number":5,"description":"When Des generates recommendations for &quot;Site 1&quot;","startTime":"2025-07-26T13:18:59.363Z","children":[],"reportData":[],"screenshots":[],"duration":0,"result":"SKIPPED"},{"number":6,"description":"Then Des sees that the advice for Zone &quot;1&quot; is for &quot;SAT&quot; to be &quot;0.85&quot;","startTime":"2025-07-26T13:18:59.363Z","children":[],"reportData":[],"screenshots":[],"duration":0,"result":"SKIPPED"}],"reportData":[],"screenshots":[],"duration":468,"result":"FAILURE"},{"number":7,"description":"Explainer recommendations are consistent after the base model is updated #2 - Zone: 2, Set Point: PAT, Recommended Value: 1.74","startTime":"2025-07-26T13:18:59.367Z","children":[{"number":8,"description":"Given Des updates the base model\n| Old | New |\n| 1.3 | 1.4 |","startTime":"2025-07-26T13:18:59.368Z","children":[{"number":9,"description":"Des updates the base model","startTime":"2025-07-26T13:18:59.369Z","children":[{"number":10,"description":"Des logs: &apos;updating base model&apos;","startTime":"2025-07-26T13:18:59.369Z","children":[],"reportData":[{"id":"report-data-e74300be7697a3fc2a5ad8c97e047cb0ac562a4c","isEvidence":false,"path":"","title":"'updating base model'","contents":"'updating base model'"}],"screenshots":[{"screenshot":"photo-linux-chromium-138.0.7204.23-des-logs-updating-base-model-5c9469c475.png","screenshotName":"photo-linux-chromium-138.0.7204.23-des-logs-updating-base-model-5c9469c475.png","timeStamp":1753535939425}],"duration":1,"result":"SUCCESS"}],"reportData":[],"screenshots":[],"duration":61,"result":"SUCCESS"}],"reportData":[],"screenshots":[],"duration":64,"result":"FAILURE","exception":{"errorType":"AssertionError","message":"Expected data in table for DC in column Ace Version to equal \"latest\"\n\nExpectation: equals('latest')\n\nExpected string:    latest\nReceived undefined","stackTrace":[{"declaringClass":"","methodName":"","fileName":"/home/runner/work/OPtest/OPtest/features/step-definitions/deployment.steps.ts","lineNumber":15},{"declaringClass":"","methodName":"","fileName":"/home/runner/work/OPtest/OPtest/features/step-definitions/deployment.steps.ts","lineNumber":15},{"declaringClass":"","methodName":"ErrorFactory.create()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@serenity-js/core/src/errors/ErrorFactory.ts","lineNumber":35},{"declaringClass":"","methodName":"Stage.createError()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@serenity-js/core/src/stage/Stage.ts","lineNumber":328},{"declaringClass":"","methodName":"RaiseErrors.create()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@serenity-js/core/src/errors/RaiseErrors.ts","lineNumber":59},{"declaringClass":"","methodName":"Ensure.performAs()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@serenity-js/assertions/src/Ensure.ts","lineNumber":137},{"declaringClass":"","methodName":"runNextTicks()","fileName":"node:internal/process/task_queues","lineNumber":65},{"declaringClass":"","methodName":"processImmediate()","fileName":"node:internal/timers","lineNumber":453},{"declaringClass":"","methodName":"process.topLevelDomainCallback()","fileName":"node:domain","lineNumber":161},{"declaringClass":"","methodName":"process.callbackTrampoline()","fileName":"node:internal/async_hooks","lineNumber":128},{"declaringClass":"","methodName":"async PerformActivities.perform()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@serenity-js/core/src/screenplay/abilities/PerformActivities.ts","lineNumber":60}]}},{"number":11,"description":"When Des generates recommendations for &quot;Site 1&quot;","startTime":"2025-07-26T13:18:59.432Z","children":[],"reportData":[],"screenshots":[],"duration":0,"result":"SKIPPED"},{"number":12,"description":"Then Des sees that the advice for Zone &quot;2&quot; is for &quot;PAT&quot; to be &quot;1.74&quot;","startTime":"2025-07-26T13:18:59.432Z","children":[],"reportData":[],"screenshots":[],"duration":1,"result":"SKIPPED"}],"reportData":[],"screenshots":[],"duration":100,"result":"FAILURE"}],"userStory":{"id":"critique-advice","storyName":"Critique advice","displayName":"Critique advice","path":"data-science/critique-advice","type":"feature","narrative":"The advisor is an LLM agent, therefore:\n- The output may not be deterministic\n- The output may differ between runs\n- The output may differ as the base model is updated\n- The advisor should indicate its level of confidence","pathElements":[{"name":"data-science","description":"Data-science"},{"name":"critique-advice","description":"Critique-advice"}]},"dataTable":{"scenarioOutline":"Given Des updates the base model\n| Old | New |\n| 1.3 | 1.4 |\nWhen Des generates recommendations for \"Site 1\"\nThen Des sees that the advice for Zone \"<Zone>\" is for \"<Set Point>\" to be \"<Recommended Value>\"","dataSetDescriptors":[{"name":"","description":"","startRow":0,"rowCount":2}],"headers":["Zone","Set Point","Recommended Value"],"rows":[{"values":["1","SAT","0.85"],"result":"FAILURE"},{"values":["2","PAT","1.74"],"result":"FAILURE"}],"predefinedRows":true},"startTime":"2025-07-26T13:18:58.897Z","testSource":"JS","tags":[{"name":"Data-science","type":"capability","displayName":"Data-science"},{"name":"Data-science/Critique advice","type":"feature","displayName":"Critique advice"}],"featureTag":{"name":"Data-science/Critique advice","type":"feature","displayName":"Critique advice"},"actors":[{"name":"Des","can":["PerformActivities","AnswerQuestions","RaiseErrors","ScheduleWork { scheduler: { clock: { timeAdjustment: { milliseconds: 0 } }, interactionTimeout: { milliseconds: 5000 } } }","BrowseTheWeb (BrowseTheWebWithPlaywright)","CallAnApi { baseURL: \"http://127.0.0.1:3000/\", headers: { common: { Accept: \"application/json, text/plain, */*\" } }, timeout: 10000 }","TakeNotes { notepad: {} }"]}],"result":"FAILURE","testFailureCause":{"errorType":"AssertionError","message":"Expected data in table for DC in column Ace Version to equal \"latest\"\n\nExpectation: equals('latest')\n\nExpected string:    latest\nReceived undefined","stackTrace":[{"declaringClass":"","methodName":"","fileName":"/home/runner/work/OPtest/OPtest/features/step-definitions/deployment.steps.ts","lineNumber":15},{"declaringClass":"","methodName":"","fileName":"/home/runner/work/OPtest/OPtest/features/step-definitions/deployment.steps.ts","lineNumber":15},{"declaringClass":"","methodName":"ErrorFactory.create()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@serenity-js/core/src/errors/ErrorFactory.ts","lineNumber":35},{"declaringClass":"","methodName":"Stage.createError()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@serenity-js/core/src/stage/Stage.ts","lineNumber":328},{"declaringClass":"","methodName":"RaiseErrors.create()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@serenity-js/core/src/errors/RaiseErrors.ts","lineNumber":59},{"declaringClass":"","methodName":"Ensure.performAs()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@serenity-js/assertions/src/Ensure.ts","lineNumber":137},{"declaringClass":"","methodName":"runNextTicks()","fileName":"node:internal/process/task_queues","lineNumber":65},{"declaringClass":"","methodName":"processImmediate()","fileName":"node:internal/timers","lineNumber":453},{"declaringClass":"","methodName":"process.topLevelDomainCallback()","fileName":"node:domain","lineNumber":161},{"declaringClass":"","methodName":"process.callbackTrampoline()","fileName":"node:internal/async_hooks","lineNumber":128},{"declaringClass":"","methodName":"async PerformActivities.perform()","fileName":"/home/runner/work/OPtest/OPtest/node_modules/@serenity-js/core/src/screenplay/abilities/PerformActivities.ts","lineNumber":60}]},"duration":570}